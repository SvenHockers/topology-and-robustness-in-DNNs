## Base configuration for experiments.
## Per-run YAMLs should reference this file via:
##   base: base.yaml
##
## Only override the few parameters you want to sweep.

seed: 42
device: cpu

data:
  n_samples: 1000
  noise: 0.1
  random_state: 42
  train_ratio: 0.6
  val_ratio: 0.2
  test_ratio: 0.2

model:
  input_dim: 2
  hidden_dims: [64, 32]
  output_dim: 2
  activation: relu
  learning_rate: 0.001
  epochs: 100
  batch_size: 32
  weight_decay: 0.0
  random_state: 42

attack:
  attack_type: fgsm
  epsilon: 0.1
  num_steps: 10
  step_size: 0.01
  random_start: true

graph:
  k: 10
  sigma: null
  space: feature
  normalized_laplacian: true
  use_diffusion: false
  diffusion_components: 10

  use_tangent: false
  tangent_k: 20
  tangent_dim: null
  tangent_var_threshold: 0.9
  tangent_dim_min: 2
  tangent_dim_max: null

  ## Topology / persistent homology options
  use_topology: true
  topo_k: 50
  topo_maxdim: 1
  topo_metric: euclidean
  topo_thresh: null
  topo_min_persistence: 0.000001
  topo_preprocess: pca
  topo_pca_dim: 10

detector:
  score_type: combined
  alpha: 0.5
  beta: 0.5
  detector_type: topology_score
  calibration_method: isotonic
  topo_feature_keys: null
  topo_cov_shrinkage: 0.001
  topo_percentile: 95.0
